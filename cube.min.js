var cubeColors=[16774453,16753704,16732181],meshMaterials=[[new THREE.MeshBasicMaterial({color:cubeColors[0]}),new THREE.MeshBasicMaterial({color:cubeColors[1]}),new THREE.MeshBasicMaterial({color:cubeColors[2]})],[new THREE.MeshBasicMaterial({color:0})],[new THREE.MeshBasicMaterial({color:0})],[new THREE.MeshBasicMaterial({color:0})],[new THREE.MeshBasicMaterial({color:16724588})]],edgeMaterials=[new THREE.MeshBasicMaterial({color:0}),new THREE.MeshBasicMaterial({color:65280}),new THREE.MeshBasicMaterial({color:0}),new THREE.MeshBasicMaterial({color:0}),new THREE.MeshBasicMaterial({color:16777215})],cubeGeo=new THREE.BoxBufferGeometry(.1,.12,.05);class Cube{constructor(s){var e=meshMaterials[0][Math.floor(3*Math.random())];this.mesh=new THREE.Mesh(cubeGeo,e),this.mesh.position.x=12*Math.random()-6,this.mesh.position.y=2*Math.random()+.5,this.mesh.position.z=-30*Math.random();var i=new THREE.EdgesGeometry(cubeGeo);this.edges=new THREE.LineSegments(i,edgeMaterials[0]),this.edges.position.set(this.mesh.position.x,this.mesh.position.y,this.mesh.position.z),s.add(this.mesh),s.add(this.edges),this.fromBelow=!1,this.ySpeed=0,this.opacity=0}update(s,e,i,t,o,h){var a=-20*(1+.5*h+.1*i);return this.mesh.position.x+=xSpeed*s*6,this.mesh.position.z>a&&(this.ySpeed+=.005*s*(-1==phase?3:1),this.mesh.position.y-=this.ySpeed),this.mesh.position.y<.06&&!this.fromBelow?(this.ySpeed*=-.4*t,this.mesh.position.y=-1*(this.mesh.position.y-.06)+.06):this.fromBelow&&this.mesh.position.y>.06&&(this.fromBelow=!1),this.mesh.position.z+=(1+.2*i)*s*(.7+.6*h),this.edges.position.set(this.mesh.position.x,this.mesh.position.y,this.mesh.position.z),this.mesh.position.z>-.03&&this.mesh.position.z<.5&&Math.abs(this.mesh.position.x)<.06&&this.mesh.position.y<.09&&this.mesh.position.y>.03||(this.mesh.position.z>1&&this.resetPos(a,e,o),!1)}resetPos(s,e,i){this.fromBelow=2==i,this.ySpeed=2==i?-.045:0,this.mesh.position.z=s-(e>0?40+60*Math.random():0),this.mesh.position.x=12*Math.random()-6,this.mesh.position.y=0==i?.06:1==i?4*Math.random()+.5:-1,this.edges.position.set(this.mesh.position.x,this.mesh.position.y,this.mesh.position.z)}reset(s,e,i){var t=-20*(1+.5*i);this.fromBelow=2==s,this.ySpeed=2==s?-.045:0,this.mesh.position.x=12*Math.random()-6,this.mesh.position.y=0==s?.06:1==s?4*Math.random()+.5:-1,this.mesh.position.z=Math.random()*t+(e?2*t:0),this.edges.position.set(this.mesh.position.x,this.mesh.position.y,this.mesh.position.z)}updateDesign(s){switch(s%5){case 0:this.mesh.material=meshMaterials[0][Math.floor(3*Math.random())],this.edges.material=edgeMaterials[0];break;case 1:this.mesh.material=meshMaterials[1][0],this.edges.material=edgeMaterials[1];break;case 2:this.mesh.material=meshMaterials[2][0],this.edges.material=edgeMaterials[2];break;case 3:break;case 4:this.mesh.material=meshMaterials[4][0],this.edges.material=edgeMaterials[4]}}}
